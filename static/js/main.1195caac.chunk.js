(this.webpackJsonpcovid_data=this.webpackJsonpcovid_data||[]).push([[0],{195:function(t,e,a){},196:function(t,e,a){},343:function(t,e,a){"use strict";a.r(e);a(190);var n=a(0),i=a.n(n),c=a(72),s=a.n(c),r=(a(195),a(196),a(183)),o=a(19),l=a(7),d=a.n(l),j=a(21),u=Object(n.createContext)({overviewData:[],stateData:{}}),b=a(54);function h(t){return t.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}function O(t){return"".concat(t,"%")}var x=a(182),f=a(2),m=function(t){var e=t.text,a=t.active,n=t.alignRight,i=t.sortAscending,c=t.onClick;return Object(f.jsx)("th",{scope:"col",onClick:c,children:Object(f.jsxs)("div",{className:d()("d-flex",{"justify-content-end":n}),children:[Object(f.jsx)("span",{className:d()({"text-right":n}),children:e}),Object(f.jsx)(x.a,{className:d()("flex-shrink-0","align-self-center",{invisible:!a,rotate:i}),size:12})]})})},v=[{id:"state",text:"State",formatFn:function(t){return t}},{id:"totalCases",text:"Total Cases",formatFn:h},{id:"totalDeaths",text:"Total Deaths",formatFn:h},{id:"casesPerHundred",text:"Cases per 100",formatFn:function(t){return t}},{id:"deathsPerThousand",text:"Deaths per 1,000",formatFn:function(t){return t}},{id:"partialVaccinationsPerHundred",text:"Partially Vaccinated",formatFn:O},{id:"fullVaccinationsPerHundred",text:"Fully Vaccinated",formatFn:O},{id:"testPositivity",text:"Test Positivity Rate",formatFn:O}];var p=function(){var t=Object(n.useState)(v[0].id),e=Object(o.a)(t,2),a=e[0],i=e[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),l=s[0],b=s[1],h=Object(n.useContext)(u),O=h.overviewData,x=h.setOverviewData,p=Object(j.f)();Object(n.useEffect)((function(){fetch("https://api.covidactnow.org/v2/states.json?apiKey=ec111c8b31de4650afe99b42a469b6d6").then((function(t){return t.json()})).then((function(t){x(function(t){return t.map((function(t){return{state:t.state,totalCases:Math.round(100*t.actuals.cases)/100,totalDeaths:Math.round(100*t.actuals.deaths)/100,casesPerHundred:Math.round(t.actuals.cases/t.population*1e3)/10,deathsPerThousand:Math.round(t.actuals.deaths/t.population*1e4)/10,partialVaccinationsPerHundred:Math.round(1e3*t.metrics.vaccinationsInitiatedRatio)/10,fullVaccinationsPerHundred:Math.round(1e3*t.metrics.vaccinationsCompletedRatio)/10,testPositivity:Math.round(1e3*t.metrics.testPositivityRatio)/10}}))}(t))}))}),[x]),Object(n.useEffect)((function(){O&&a&&x(function(t,e,a){return Object(r.a)(t).sort(function(t,e){return function(a,n){return"state"===t?e?n[t]<=a[t]?-1:1:a[t]<=n[t]?-1:1:e?a[t]-n[t]:n[t]-a[t]}}(e,a))}(O,a,l))}),[a,l]);return O.length?Object(f.jsxs)("div",{className:"p-lg-5",children:[Object(f.jsx)("h2",{className:"mb-3",children:"Sort the table by category, or select a state for more data."}),Object(f.jsx)("div",{className:"table-responsive",children:Object(f.jsxs)("table",{className:"table table-striped table-hover",children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:v.map((function(t,e){var n=t.id,c=t.text;return Object(f.jsx)(m,{text:c,active:n===a,alignRight:0!==e,sortAscending:l,onClick:function(){return function(t){t===a?b(!l):(i(t),b(!1))}(n)}},n)}))})}),Object(f.jsx)("tbody",{children:O.map((function(t){return Object(f.jsx)("tr",{onClick:function(){return e=t.state,void p.push("/state/".concat(e));var e},children:v.map((function(e,n){var i=e.id,c=e.formatFn;return Object(f.jsx)("td",{className:d()({"table-info":i===a,"text-right":n>0}),children:c(t[i])},i)}))},t.state)}))})]})})]}):Object(f.jsx)("h2",{className:"text-center",children:"Loading..."})},y=a(75),N=a(124),M=a(351),g=a(344),C=a(345),w=a(353),A=a(96),D=a(97),k=a(180),P=a(178),V=a(82),F=a(349),H=a(98),I=a.n(H),K={newCases:"New cases",newDeaths:"New deaths",hospitalizations:"Hospitalizations",sevenDayAvg:"7-day average"},S=function(t,e){return[h(t),K[e]]},L=function(t){return Object(M.a)(Object(g.a)(t),"MMM d, yyyy")},T=function(t){var e=Object(g.a)(t);return e.getMonth()%2===0?Object(M.a)(e,"MMM d"):""};function R(t){var e=t.title,a=t.data,n=t.dataKey,i=t.barColor,c=t.lineColor,s=a?function(t,e){return t?t.map((function(t,a,n){var i,c=n.slice(a-6,a+1).map((function(t){return t[e]})).reduce((function(t,e){return t+(e||0)}),0)/7;return i={date:t.date},Object(b.a)(i,e,t[e]),Object(b.a)(i,"sevenDayAvg",Math.round(c)),i})):null}(a,n):null;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h4",{className:"text-muted",children:e}),s?Object(f.jsx)(C.a,{height:250,width:"100%",children:Object(f.jsxs)(w.a,{data:s,children:[Object(f.jsx)(A.a,{dataKey:"date",axisLine:!1,tickLine:!1,tickFormatter:T}),Object(f.jsx)(D.a,{dataKey:n,axisLine:!1,tickLine:!1,tickFormatter:h}),Object(f.jsx)(k.a,{dataKey:n,fill:i,isAnimationActive:!1}),Object(f.jsx)(P.a,{dataKey:"sevenDayAvg",dot:!1,stroke:c,strokeWidth:2,isAnimationActive:!1}),Object(f.jsx)(V.a,{formatter:S,labelFormatter:L}),Object(f.jsx)(F.a,{vertical:!1,opacity:.5})]})}):Object(f.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"250px"},children:Object(f.jsx)(I.a,{size:100,color:i})})]})}var z=a(350),W=a(94),E={partialVaccinationsPerHundred:"At least one dose",partialVaccinations:"At least one dose",fullVaccinationsPerHundred:"Fully vaccinated",fullVaccinations:"Fully vaccinated"},J=function(t){var e=Object(g.a)(t);return e.getMonth()%2===0?Object(M.a)(e,"MMM d"):""},Y=function(t,e){return[O(t),E[e]]},B=function(t){return Object(M.a)(Object(g.a)(t),"MMM d, yyyy")};function U(t){var e=t.data;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h4",{className:"text-muted",children:"Vaccinations"}),e?Object(f.jsx)(C.a,{height:250,width:"100%",children:Object(f.jsxs)(z.a,{data:e,children:[Object(f.jsx)(A.a,{dataKey:"date",axisLine:!1,tickLine:!1,tickFormatter:J}),Object(f.jsx)(D.a,{axisLine:!1,tickLine:!1,tickFormatter:O}),Object(f.jsx)(W.a,{type:"monotone",dataKey:"partialVaccinationsPerHundred",stroke:"#3aa757",fill:"#aad9b6",isAnimationActive:!1}),Object(f.jsx)(W.a,{type:"monotone",dataKey:"fullVaccinationsPerHundred",fill:"#5fb877",isAnimationActive:!1}),Object(f.jsx)(V.a,{formatter:Y,labelFormatter:B}),Object(f.jsx)(F.a,{vertical:!1,opacity:.5})]})}):Object(f.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"250px"},children:Object(f.jsx)(I.a,{size:100,color:"#5fb877"})})]})}var G={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District of Columbia",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MP:"Northern Mariana Islands",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};function _(){var t=Object(j.g)().pathname.split("/state/")[1]||"",e=Object(n.useContext)(u),a=e.stateData,i=e.setStateData;return Object(n.useEffect)((function(){var e;a[t]||fetch((e=t,"https://api.covidactnow.org/v2/state/".concat(e,".timeseries.json?apiKey=ec111c8b31de4650afe99b42a469b6d6"))).then((function(t){return t.json()})).then((function(e){return i(Object(N.a)(Object(N.a)({},a),{},Object(b.a)({},t,function(t){console.log(t);var e=t.population;return t.actualsTimeseries.map((function(t){return{date:t.date,newCases:t.newCases,newDeaths:t.newDeaths,partialVaccinations:t.vaccinationsInitiated,fullVaccinations:t.vaccinationsCompleted,partialVaccinationsPerHundred:t.vaccinationsInitiated?Math.round(t.vaccinationsInitiated/e*1e3)/10:null,fullVaccinationsPerHundred:t.vaccinationsCompleted?Math.round(t.vaccinationsCompleted/e*1e3)/10:null,hospitalizations:t.hospitalBeds.currentUsageCovid}}))}(e))))})).catch((function(t){return console.log(t)}))}),[a,i,t]),Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("nav",{"aria-label":"breadcrumb",children:Object(f.jsxs)("ol",{className:"breadcrumb",children:[Object(f.jsx)("li",{className:"breadcrumb-item",children:Object(f.jsx)(y.b,{to:"/",children:"Home"})}),Object(f.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:t})]})}),Object(f.jsx)("h2",{children:G[t]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-xl-6 col-l-12 p-3",children:Object(f.jsx)(R,{data:a[t],dataKey:"newCases",title:"New cases",barColor:"#8884d8",lineColor:"#3531a4"})}),Object(f.jsx)("div",{className:"col-xl-6 col-l-12 p-3",children:Object(f.jsx)(R,{data:a[t],dataKey:"newDeaths",title:"New deaths",barColor:"#a4a4a4",lineColor:"#545454"})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-xl-6 col-l-12 p-3",children:Object(f.jsx)(R,{data:a[t],dataKey:"hospitalizations",title:"Hospitalizations",barColor:"#d25e5e",lineColor:"#832828"})}),Object(f.jsx)("div",{className:"col-xl-6 col-l-12 p-3",children:Object(f.jsx)(U,{data:a[t]})})]})]})}var X=function(t){var e=t.children,a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],s=i[1],r=Object(n.useState)({}),l=Object(o.a)(r,2),d=l[0],j=l[1];return Object(f.jsx)(u.Provider,{value:{overviewData:c,stateData:d,setOverviewData:s,setStateData:j},children:e})};var Z=function(){return Object(f.jsx)("div",{className:"container pt-5 d-flex flex-column",children:Object(f.jsx)(X,{children:Object(f.jsx)(y.a,{children:Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{path:"/",exact:!0,component:p}),Object(f.jsx)(j.a,{path:"/state",component:_})]})})})})};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.1195caac.chunk.js.map